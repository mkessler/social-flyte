<table id="groala-flagged-interactions-table" class="table table-striped table-bordered groala-datatable" cellspacing="0" width="100%" data-source="<%= data_source %>">
  <thead>
    <tr>
      <th></th>
      <th class="text-xs-center">
        <i class="fa fa-flag grey-text" aria-hidden="true"></i>
        <span class="hidden-xs-down">Type</span>
      </th>
      <th class="text-xs-center">
        <i class="fa fa-user grey-text" aria-hidden="true"></i>
        <span class="hidden-xs-down">User</span>
      </th>
      <th class="text-xs-center">
        <i class="fa fa-file-text-o grey-text" aria-hidden="true"></i>
        <span class="hidden-xs-down">Content</span>
      </th>
      <th class="text-xs-center">
        <i class="fa fa-calendar grey-text" aria-hidden="true"></i>
        <span class="hidden-xs-down">Posted</span>
      </th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<% if params[:controller] == 'campaigns' %>
  <%= render 'shared/datatables_buttons', csv_download_link: organization_campaign_interactions_path(organization, campaign, format: :csv), csv_object: 'Flagged Interactions' %>
<% elsif params[:controller] == 'posts' %>
  <%= render 'shared/datatables_buttons', csv_download_link: organization_campaign_post_interactions_path(organization, campaign, post, format: :csv), csv_object: 'Flagged Interactions' %>
<% end %>

<script type="text/javascript">
  $(document).on('ready', function() {
    App.dataTables.groala.flagged_interactions('<%= params[:controller] != 'posts' ? 'show' : 'hide' %>');
  });
</script>
